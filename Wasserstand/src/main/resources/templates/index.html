<html>
	<head>
		<title>Wasserwacht Wasserstand</title>
		<link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300&display=swap" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="style.css" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<body onload="drawgraph()">
		<div class="navbar">
			<ul>
				<li>
					<div onclick="movewindows('graphcon')">
						<a>Graph</a>
					</div>
				</li>
				<li>
					<div onclick="movewindows('anzeigecon')">
						<a>Anzeige</a>
					</div>
				</li>
			</ul>
		</div>
		<div class="container" id="anzeigecon">
			<div class="upper show">
				<a th:text="${wasserstand}" id="value"></a><a id="textbig">cm</a>
			</div>
			<div class="lower show">
				<a id="textsmall">Wasserstand</a><br/>
				<a id="timestamp">Letztes Update:</a>
				<a id="timestamp" th:text="${timestamp}"></a>
			</div>
		</div>
		<div class="container" id="graphcon">
			<canvas id="graph">
			</canvas>
		</div>
		
		
		<script th:inline="javascript">
			function drawgraph(){
				/*<![CDATA[*/
					
					var data = /*[[${data}]]*/ [];
					var canvas = document.getElementById('graph');
					var context = canvas.getContext('2d');
					var distance = 10;
					var maxheight = 150;
					var barwidth= 300 /data.length - distance;
					
					/*or(var i = 0; i < data.length; i++)
					{
						context.fillRect(barwidth * i + distance * i, maxheight - maxheight * data[i].wasserstand / 100, barwidth, maxheight * data[i].wasserstand / 100);
					}*/
					
				/*]]>*/
			}
			
			function movewindows(div){
				
				var centered = document.getElementById(div);
				var containers = document.getElementsByClassName('container');
				
				containers.forEach(function(item){
					item.style.display="none";
				});
				centered.style.display = "block";
				
			}

		</script>
	</body>
</html>